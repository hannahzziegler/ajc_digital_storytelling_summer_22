asian_female_under_5 = "B01001D_018", asian_female_5_to_9 = "B01001D_019", asian_female_10_to_14 = "B01001D_020", asian_female_15_to_17 = "B01001D_021"),
state = "MD",
year = 2019
) %>%
select(NAME, variable, estimate)
native_hawaiian_kids <- get_acs(
geography = "county",
variables = c(native_hawiian_male_under_5 = "B01001E_003", native_hawiian_male_5_to_9 = "B01001E_004", native_hawiian_male_10_to_14 = "B01001E_005", native_hawiian_male_14_to_17 = "B01001E_006",
native_hawiian_female_under_5 = "B01001E_018", native_hawiian_female_5_to_9 = "B01001E_019", native_hawiian_female_10_to_14 = "B01001E_020", native_hawiian_female_15_to_17 = "B01001E_021"),
state = "MD",
year = 2019
) %>%
select(NAME, variable, estimate)
View(white_kids)
native_hawaiian_kids %>%
group_by(NAME) %>%
summarize(
total_kids = sum(estimate))
View(native_hawaiian_kids)
native_hawaiian_kids %>%
group_by(NAME) %>%
mutate(
total_kids = sum(estimate),
whole_state = sum(total_kids)
)
native_hawaiian_kids %>%
group_by(NAME) %>%
mutate(
total_kids = sum(estimate)
)
native_hawaiian_kids_clean <- native_hawaiian_kids %>%
group_by(NAME) %>%
summarise(
total_kids = sum(estimate)
)
View(native_hawaiian_kids_clean)
native_hawaiian_kids_clean %>%
summarise(
total_kids_state = sum(total_kids)
)
asian_kids_clean <- asian_kids %>%
group_by(NAME) %>%
summarise(
total_kids = sum(estimate)
)
asian_kids_clean %>%
summarise(
total_kids_state = sum(total_kids)
)
View(asian_data_rentership)
View(asian_kids_clean)
View(asian_kids_clean)
hispanic_kids_clean <- hispanic_kids %>%
group_by(NAME) %>%
summarise(
total_kids = sum(estimate)
)
hispanic_kids_clean %>%
summarise(
total_kids_state = sum(total_kids)
)
View(hispanic_kids_clean)
View(hispanic_kids_clean)
native_kids_clean <- native_kids %>%
group_by(NAME) %>%
summarise(
total_kids = sum(estimate)
)
native_kids_clean %>%
summarise(
total_kids_state = sum(total_kids)
)
black_kids_clean <- black_kids %>%
group_by(NAME) %>%
summarise(
total_kids = sum(estimate)
)
black_kids_clean %>%
summarise(
total_kids_state = sum(total_kids)
)
View(acs2019)
white_kids_clean <- white_kids %>%
group_by(NAME) %>%
summarise(
total_kids = sum(estimate)
)
white_kids_clean %>%
summarise(
total_kids_state = sum(total_kids)
)
asian_renters <- everything_combined %>%
summarise(
md_renters_asian_state = sum(renter_asian_population),
md_asian_pop = (sum(asian_population)-75827)) %>%
mutate(percent_asian_renters = (md_renters_asian_state/md_asian_pop)*100)
View(asian_renters)
asian_owners_no_kids <- everything_combined %>%
summarise(
md_owners_asian_state = sum(owner_asian_population),
md_asian_pop = (sum(asian_population)-75827)) %>%
mutate(percent_asian_owners = (md_owners_asian_state/md_asian_pop)*100)
View(asian_owners_no_kids)
asian_renters_no_kids <- everything_combined %>%
summarise(
md_renters_asian_state = sum(renter_asian_population),
md_asian_pop = (sum(asian_population)-75827)) %>%
mutate(percent_asian_renters = (md_renters_asian_state/md_asian_pop)*100)
View(asian_renters_no_kids)
asian_renters_no_kids <- everything_combined %>%
summarise(
md_renters_asian_state = sum(renter_asian_population),
md_asian_pop = (sum(asian_population)-75827)) %>%
mutate(percent_asian_renters = (md_renters_asian_state/md_asian_pop)*100)
# Finding Asian home owners
asian_owners_no_kids <- everything_combined %>%
summarise(
md_owners_asian_state = sum(owner_asian_population),
md_asian_pop = (sum(asian_population)-75827)) %>%
mutate(percent_asian_owners = (md_owners_asian_state/md_asian_pop)*100)
# Finding Native renters
native_renters_no_kids <- everything_combined %>%
summarise(
md_renters_native_state = sum(renter_native_population),
md_native_pop = sum((native_population)-3241)) %>%
mutate(percent_native_renters = (md_renters_native_state/md_native_pop)*100)
# Finding Native homeowners
native_owners_no_kids <- everything_combined %>%
summarise(
md_owners_native_state = sum(owner_native_population),
md_native_pop = sum((native_population)-3241)) %>%
mutate(percent_native_owners = (md_owners_native_state/md_native_pop)*100)
# Finding Pacific Island renters
pacific_renters_no_kids <- everything_combined %>%
summarise(
md_renters_pacific_state = sum(renter_pacific_island_population),
md_pacific_pop = sum((pacific_island_population)-691)) %>%
mutate(percent_pacific_renters = (md_renters_pacific_state/md_pacific_pop)*100)
# Finding Pacific Island homeowners
pacific_owners_no_kids <- everything_combined %>%
summarise(
md_owner_pacific_state = sum(owner_pacific_island_population),
md_pacific_pop = sum((pacific_island_population)-691)) %>%
mutate(percent_pacific_renters = (md_owner_pacific_state/md_pacific_pop)*100)
# Finding Hispanic renters
hispanic_renters_no_kids <- everything_combined %>%
summarise(
md_renters_hispanic_state = sum(renter_hispanicorlatino_data),
md_white_pop = sum((white_population)-205266)) %>%
mutate(percent_hispanic_renters = (md_renters_hispanic_state/md_white_pop)*100)
# Finding Hispanic homeowners
hispanic_owners_no_kids <- everything_combined %>%
summarise(
md_owners_hispanic_state = sum(hispanicorlatino_data_homeownership),
md_white_pop = sum((white_population)-205266)) %>%
mutate(percent_hispanic_owners = (md_owners_hispanic_state/md_white_pop)*100)
# Finding Black renters
everything_combined %>%
summarise(
md_renters_black_state = sum(renter_black_population),
md_black_pop = sum((black_population)-416120)) %>%
mutate(percent_black_renters = (md_renters_black_state/md_black_pop)*100)
# Finding Black home owners
everything_combined %>%
summarise(
md_owners_black_state = sum(owner_black_population),
md_black_pop = sum((black_population)-416120)) %>%
mutate(percent_black_owners = (md_owners_black_state/md_black_pop)*100)
# Finding white renters
everything_combined %>%
summarise(
md_renters_white_state = sum(renter_white_population),
md_white_pop = sum((white_population)-656618)) %>%
mutate(percent_white_renters = (md_renters_white_state/md_white_pop)*100)
# Finding white homeowners
everything_combined %>%
summarise(
md_owners_white_state = sum(owner_white_population),
md_white_pop = sum((white_population)-656618)) %>%
mutate(percent_white_owners = (md_owners_white_state/md_white_pop)*100)
View(native_owners_no_kids)
View(pacific_renters_no_kids)
View(pacific_owners_no_kids)
everything_combined %>%
summarise(
md_owners_black_state = sum(owner_black_population),
md_black_pop = sum((black_population)-416120)) %>%
mutate(percent_black_owners = (md_owners_black_state/md_black_pop)*100)
everything_combined %>%
summarise(
md_owners_black_state = sum(owner_black_population),
md_black_pop = sum(black_population)) %>%
mutate(percent_black_owners = (md_owners_black_state/md_black_pop)*100)
1799094 - 416120
333905/1382974
everything_combined %>%
summarise(
md_renters_black_state = sum(renter_black_population),
md_black_pop = sum(black_population)) %>%
mutate(percent_black_renters = (md_renters_black_state/md_black_pop)*100)
314579/1382974
everything_combined %>%
summarise(
md_renters_white_state = sum(renter_white_population),
md_white_pop = sum(white_population)) %>%
mutate(percent_white_renters = (md_renters_white_state/md_white_pop)*100)
3343003 - 656618
319477/2686385
everything_combined %>%
summarise(
md_owners_white_state = sum(owner_white_population),
md_white_pop = sum(white_population)) %>%
mutate(percent_white_owners = (md_owners_white_state/md_white_pop)*100)
999061/2686385
asian_renters_no_kids <- everything_combined %>%
summarise(
md_renters_asian_state = sum(renter_asian_population),
md_asian_pop = (sum(asian_population)-75827)) %>%
mutate(percent_asian_renters = (md_renters_asian_state/md_asian_pop)*100)
View(asian_renters_no_kids)
native_renters_no_kids <- everything_combined %>%
summarise(
md_renters_native_state = sum(renter_native_population),
md_native_pop = sum((native_population)-3241)) %>%
mutate(percent_native_renters = (md_renters_native_state/md_native_pop)*100)
View(native_renters_no_kids)
native_renters_no_kids <- everything_combined %>%
summarise(
md_renters_native_state = sum(renter_native_population),
md_native_pop = sum(native_population)) %>%
mutate(percent_native_renters = (md_renters_native_state/md_native_pop)*100)
View(native_renters_no_kids)
16762-3241
2959/13521
native_owners_no_kids <- everything_combined %>%
summarise(
md_owners_native_state = sum(owner_native_population),
md_native_pop = sum(native_population)) %>%
mutate(percent_native_owners = (md_owners_native_state/md_native_pop)*100)
everything_combined %>%
summarise(
md_owners_native_state = sum(owner_native_population),
md_native_pop = sum(native_population)) %>%
mutate(percent_native_owners = (md_owners_native_state/md_native_pop)*100)
3752/13521
everything_combined %>%
summarise(
md_renters_hispanic_state = sum(renter_hispanicorlatino_data),
md_white_pop = sum(white_population)) %>%
mutate(percent_hispanic_renters = (md_renters_hispanic_state/md_white_pop)*100)
3343003-205266
73456/3137737
everything_combined %>%
summarise(
md_owner_pacific_state = sum(owner_pacific_island_population),
md_pacific_pop = sum(pacific_island_population)) %>%
mutate(percent_pacific_renters = (md_owner_pacific_state/md_pacific_pop)*100)
3034-691
561/2343
pacific_renters_no_kids <- everything_combined %>%
summarise(
md_renters_pacific_state = sum(renter_pacific_island_population),
md_pacific_pop = sum(pacific_island_population)) %>%
mutate(percent_pacific_renters = (md_renters_pacific_state/md_pacific_pop)*100)
everything_combined %>%
summarise(
md_renters_pacific_state = sum(renter_pacific_island_population),
md_pacific_pop = sum(pacific_island_population)) %>%
mutate(percent_pacific_renters = (md_renters_pacific_state/md_pacific_pop)*100)
400/2343
knitr::opts_chunk$set(echo = TRUE)
install.packages("RMySQL")
library(rmysql)
library(RMySQL)
setwd("~/Documents/GitHub/ajc_digital_storytelling_summer_22/lasers")
library(tidyverse)
library(janitor)
library(tidycensus)
library(ggplot2)
library(sf)
lasers_2022 <- read_csv("Lasers_2022_05_31.csv")
lasers_2021 <- read_csv("Lasers_2021.csv", skip=1)
lasers_2020 <- read_csv("Lasers_2020.csv")
lasers_2019_mess <- read_csv("Lasers_2019.csv")
lasers_2019 <- lasers_2019_mess %>%
select(`Incident Time`, `Incident Date`, `Flight ID`, Aircraft, Altitude, Airport, `Laser Color`, Injury, City, State)
georgia_lasers_2022 <- lasers_2022 %>%
filter(State == "Georgia")
count_2022 <- georgia_lasers_2022 %>%
summarise(count = n())
georgia_lasers_2021 <- lasers_2021 %>%
filter(State == "Georgia")
View(lasers_2021)
View(georgia_lasers_2022)
knitr::opts_chunk$set(echo = TRUE)
georgia_lasers_2020 <- lasers_2020 %>%
filter(State == "Georgia")
View(georgia_lasers_2020)
georgia_lasers_2019 <- lasers_2019 %>%
filter(State == "Georgia")
View(georgia_lasers_2019)
count_2019 <- georgia_lasers_2019 %>%
summarise(count = n())
count_2020 <- georgia_lasers_2020 %>%
summarise(count = n())
View(count_2019)
View(count_2020)
View(georgia_lasers_2020)
georgia_lasers_2020 <- georgia_lasers_2020[-c(109)]
georgia_lasers_2020 <- georgia_lasers_2020[-(109)]
georgia_lasers_2020 <- subset(georgia_lasers_2020, City == "Paducah")
View(georgia_lasers_2020)
georgia_lasers_2020 <- subset(georgia_lasers_2020, City =! "Paducah")
georgia_lasers_2020 <- subset(georgia_lasers_2020, City =! "Paducah")
View(georgia_lasers_2020)
georgia_lasers_2020 <- subset(georgia_lasers_2020, City != "Paducah")
georgia_lasers_2020 <- subset(georgia_lasers_2020, City != "Paducah")
georgia_lasers_2020 <- lasers_2020 %>%
filter(State == "Georgia")
View(georgia_lasers_2020)
georgia_lasers_2020[-c(109), ]
georgia_lasers_2020 <- georgia_lasers_2020[-c(109), ]
View(georgia_lasers_2020)
count_2020 <- georgia_lasers_2020 %>%
summarise(count = n())
fixing_2019_dates <- georgia_lasers_2019 %>%
separate(incident_date, sep="/", into = c("month", "day", "year"))
View(georgia_lasers_2019)
View(georgia_lasers_2019)
fixing_2019_dates <- georgia_lasers_2019 %>%
clean_names()
View(fixing_2019_dates)
fixing_2019_dates <- georgia_lasers_2019 %>%
clean_names()
separate(incident_date, sep="-", into = c("month", "day", "year"))
fixing_2019_dates %>%
separate(incident_date, sep="-", into = c("month", "day", "year"))
fixing_2019_dates <- fixing_2019_dates %>%
separate(incident_date, sep="-", into = c("day", "month", "year"))
View(fixing_2019_dates)
fixed_2022_date <- read_csv("Lasers_2022_05_31.csv")
ga_final_2022 <- fixed_2022_date %>%
separate(incident_date, sep="/", into = c("month", "day", "year")) %>%
filter(State == "Georgia") %>%
group_by(month) %>%
summarize(count = n())
View(ga_final_2022)
fixing_2019_dates %>%
group_by(month) %>%
summarize(count = n())
aggregate_months_2019 <- fixing_2019_dates %>%
group_by(month) %>%
summarize(count = n())
write_csv(aggregate_months_2019,"month_by_month_2019.csv")
fixing_2020_dates <- georgia_lasers_2020 %>>%
clean_names()
fixing_2020_dates <- georgia_lasers_2020 %>%
clean_names()
fixing_2020_dates <- fixing_2020_dates %>%
separate(incident_date, sep="-", into = c("day", "month", "year")) %>%
group_by(month) %>%
summarize(count = n())
View(fixing_2020_dates)
write_csv(fixing_2020_dates,"month_by_month_2020.csv")
write_csv(ga_final_2022,"month_by_month_2022.csv")
fixed_date <- read_csv("Lasers_2021.csv")
ga_final_2021 <- fixed_date %>%
filter(State == "Georgia")
mdy_ga <- ga_final_2021 %>%
separate(incident_date, sep="/", into = c("month", "day", "year"))
month_groups <- mdy_ga %>%
group_by(month) %>%
summarize(count = n())
View(month_groups)
write_csv(month_groups,"month_by_month_2020.csv")
write_csv(month_groups,"month_by_month_2021.csv")
write_csv(fixing_2020_dates,"month_by_month_2020.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(tidycensus)
library(ggplot2)
library(sf)
library(tidyverse)
library(janitor)
library(tidycensus)
library(ggplot2)
library(sf)
setwd("~/Documents/GitHub/ajc_digital_storytelling_summer_22/census_population")
city_populations <- read_csv("georgia_city_population_estimates.csv")
View(city_populations)
georgia_towns <- city_populations %>%
filter(str_detect(geographic_area, 'town'))
View(georgia_towns)
georgia_populations <- read_csv("georgia_city_population_estimates.csv")
georgia_towns <- georgia_populations %>%
filter(str_detect(geographic_area, 'town'))
georgia_cities <- georgia_populations %>%
filter(str_detect(geographic_area, 'city'))
View(georgia_populations)
View(georgia_cities)
georgia_populations %>%
as.numeric(april_2020_base_estimate, population_2020, population_2021)
georgia_populations <- read_csv("georgia_city_population_estimates.csv")
View(georgia_populations)
georgia_populations <- georgia_populations %>%>
georgia_populations <- georgia_populations %>%
mutate(april_2020_base_estimate = as.numeric(april_2020_base_estimate))
View(georgia_populations)
georgia_populations <- read_csv("georgia_city_population_estimates.csv")
View(georgia_populations)
georgia_populations <- georgia_populations %>%
mutate(april_2020_base_estimate = as.numeric(april_2020_base_estimate))
View(georgia_populations)
georgia_populations <- georgia_populations %>%
mutate(april_2020_base_estimate = as.numeric(april_2020_base_estimate)) %>%
mutate(population_2020 = as.numeric(population_2020)) %>%
mutate(population_2021 = as.numeric(population_2021))
View(georgia_populations)
georgia_populations <- read_csv("georgia_city_population_estimates.csv")
## Fixing the numbers!
georgia_populations <- georgia_populations %>%
mutate(april_2020_base_estimate = as.numeric(april_2020_base_estimate)) %>%
mutate(population_2020 = as.numeric(population_2020)) %>%
mutate(population_2021 = as.numeric(population_2021))
georgia_towns <- georgia_populations %>%
filter(str_detect(geographic_area, 'town'))
georgia_cities <- georgia_populations %>%
filter(str_detect(geographic_area, 'city'))
View(georgia_towns)
georgia_populations <- georgia_populations %>%
mutate(april_2020_base_estimate = as.numeric(april_2020_base_estimate)) %>%
mutate(population_2020 = as.numeric(population_2020)) %>%
mutate(population_2021 = as.numeric(population_2021)) %>%
distinct()
georgia_populations %>%
mutate(percent_change = ((population_2021-population_2020)/population_2020)*100)
georgia_populations %>%
mutate(percent_change = ((population_2021-population_2020)/population_2020)*100) %>%
arrange(desc(percent_change))
georgia_populations %>%
filter(population_2020 > 1000) %>%
mutate(percent_change = ((population_2021-population_2020)/population_2020)*100) %>%
arrange(desc(percent_change))
library(stringr)
str_replace(georgia_populations, pattern = "city", replacement = "")
View(georgia_cities)
View(georgia_cities)
View(georgia_populations)
str_replace(georgia_populations, pattern = "city,", replacement = ",")
str_replace(georgia_populations, pattern = " city,", replacement = ",")
str_replace(georgia_populations,[,1], pattern = " city,", replacement = ",")
str_replace(georgia_populations, pattern = " city,", replacement = ",")
str_remove(georgia_populations, pattern = "city,")
str_remove(georgia_populations, ["city,"])
str_remove(georgia_populations, "city,")
str_remove_all(georgia_populations, "city,")
str_remove_all(georgia_populations, " city,")
str_remove_all(georgia_populations, " city," | " town,")
str_remove_all(georgia_populations, " city,")
str_replace_all(georgia_populations, " city,", ",")
clean_names <- str_replace_all(georgia_populations, " city,", ",")
clean_names <- georgia_populations %>%
mutate_at("geographic_area", str_replace, " city,", ",")
View(clean_names)
clean_names <- georgia_populations %>%
mutate_at("geographic_area", str_replace, " city,", ",") %>%
mutate_at("geographic_area", str_replace, " town,", ",")
georgia_populations <- georgia_populations %>%
mutate_at("geographic_area", str_replace, " city,", ",") %>%
mutate_at("geographic_area", str_replace, " town,", ",")
View(georgia_populations)
georgia_populations <- georgia_populations %>%
filter(population_2020 > 1000) %>%
mutate(percent_change = ((population_2021-population_2020)/population_2020)*100) %>%
arrange(desc(percent_change))
View(georgia_populations)
clean_names <- georgia_populations %>%
filter(population_2020 > 1000) %>%
mutate(percent_change = ((population_2021-population_2020)/population_2020)*100) %>%
arrange(desc(percent_change))
georgia_populations <- georgia_populations %>%
mutate_at("geographic_area", str_replace, " city,", ",") %>%
mutate_at("geographic_area", str_replace, " town,", ",")
View(georgia_cities)
View(georgia_populations)
populations_over_1000_pct_change <- georgia_populations %>%
filter(population_2020 > 1000) %>%
mutate(percent_change = ((population_2021-population_2020)/population_2020)*100) %>%
arrange(desc(percent_change))
View(populations_over_1000_pct_change)
georgia_populations <- georgia_populations %>%
mutate_at("geographic_area", str_replace, " city,", ",") %>%
mutate_at("geographic_area", str_replace, " town,", ",")
georgia_populations <- read_csv("georgia_city_population_estimates.csv")
## Fixing the numbers!
georgia_populations <- georgia_populations %>%
mutate(april_2020_base_estimate = as.numeric(april_2020_base_estimate)) %>%
mutate(population_2020 = as.numeric(population_2020)) %>%
mutate(population_2021 = as.numeric(population_2021)) %>%
distinct()
## Separating cities and towns
georgia_towns <- georgia_populations %>%
filter(str_detect(geographic_area, 'town'))
georgia_cities <- georgia_populations %>%
filter(str_detect(geographic_area, 'city'))
## Cleaning the city and town names for general dataframe
library(stringr)
georgia_populations <- georgia_populations %>%
mutate_at("geographic_area", str_replace, " city,", ",") %>%
mutate_at("geographic_area", str_replace, " town,", ",")
View(populations_over_1000_pct_change)
